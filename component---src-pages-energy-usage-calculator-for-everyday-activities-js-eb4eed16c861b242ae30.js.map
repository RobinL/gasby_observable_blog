{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/@mbostock/synchronized-views.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/@mbostock/disposal.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/@mbostock/inline-inputs.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/1add11a49a452e70.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/d2b70dd4960f3314.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/cf65dae7f4607b19.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/ab12e7a3fdc4f2be.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/1b459452a203b8d6.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/ae3bbc0702928554.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/0f80b8822accb473.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/5bd5c66c77a6d1cd.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/16c049a5ef57f39e.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/b60a5a494ad36861.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/96c07fabafda0a77.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/@vega/vega-lite-api.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/d/6ddb4d39b12399ea.js","webpack:///./node_modules/@robinl/energy-usage-calculator-for-everyday-activities/@robinl/energy-usage-calculator-for-everyday-activities.js","webpack:///./src/pages/energy-usage-calculator-for-everyday-activities.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js"],"names":["_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","_templateObject11","data","_templateObject10","_templateObject9","_templateObject8","_templateObject7","_templateObject6","_templateObject5","_templateObject4","_templateObject3","_templateObject2","_templateObject","define","runtime","observer","main","module","variable","md","html","G","_","input","x","View","this","_list","writable","_value","key","type","listener","includes","concat","filter","l","event","p","Promise","resolve","forEach","then","get","set","dispatchEvent","y","$0","invalidation","oninput","valueAsNumber","update","addEventListener","removeEventListener","Generators","view","_ref","isNaN","disposable","bind","MutationObserver","element","requestAnimationFrame","target","closest","mutations","contains","disconnect","observe","childList","test","Array","from","length","M","generator","disposal","span","apples","join","child1","child2","view_to_bind","arguments","undefined","width","require","slider","data_array","keys","map","sort","a","b","d","num_squares","Math","ceil","items","fill","d2","i","flat","get_d3_data","unit_chart","d3","DOM","svg_width","clip_width","d3_data","margin","total_squares","reduce","num_squares_in_width","floor","height_of_squares","text_on_final_line","additional_height_for_text","height","colorScale","scaleOrdinal","range","schemeCategory10","domain","svg","select","svg_group","append","attr","selectAll","enter","GRID_SIZE","total","toFixed","text_x_position","text_y_position","style","text","node","munge_data","squares_data","text_positions","nest","rollup","extent","entries","mean","unit_chart_2","x_counter","y_counter","previous_key","munged","inline_input","$1","$2","eu","shower_minutes","shower_flow","num_showers","shower","get_daily_kwh","kwh","utils","format_kwh","child3","time_period_picker","miles","miles_driven_period","miles_per_gallon","driving","miles_driven_to_kwh_per_day","kwh_formatted","miles_flown_period","flying","flying_miles_to_kwh","$3","num_washing_machine","washing_machine_period","washing","washing_machine_kwh_per_day","num_dishwasher","dishwasher_period","dishwasher_kwh_per_day","wm","dw","num_dogs","dogs_weight_kg","pets","kwh_required_by_dogs_per_day","gender_picker","activity_level_picker","$4","diet_picker","$5","weight_kg","height_cm","age_years","gender","activity_level","diet_type","eating","kwh_per_day","units_picker","actual_usage_from_bill","thermostat_current","thermostat_future","num_occupants","bill_units","heating","heating_kwh_per_day","spending","spending_time_period","stuff","pounds_sterling_to_kwh","convert","convert_units","get_total","format","total_energy","watts","name","chart","my_data","treemap","color","per_fmt","root","create","leaf","leaves","x0","y0","ancestors","reverse","leafUid","uid","id","depth","parent","x1","y1","clipUid","href","split","nodes","tile","size","padding","round","hierarchy","sum","mark","_callee","_ref2","_ref3","vega","vegalite","api","tooltip","options","wrap","_context","prev","next","all","sent","config","init","Handler","call","container","loader","baseURL","renderer","abrupt","register","stop","_x","apply","vl","markSquare","opacity","transform","calculate","as","project","projection","encode","longitude","fieldQ","latitude","fieldN","autosize","stroke","render","brush","selectInterval","encodings","click","selectMulti","scale","plot1","markPoint","filled","title","order","timeMD","axis","plot2","markBar","count","vconcat","lines","markLine","strokeWidth","detail","fieldO","ticks","grid","gridColor","labelAngle","labelPadding","labelFontWeight","labels","markText","dx","align","baseline","groupby","aggregate","min","max","fold","window","percent_rank","layer","row_number","url","csv","autoType","nonnull_data","ret","data_by_country","data_with_kwh","countries","selected_countries","JSON","stringify","json","tfec_data","population_data","primary_energy_use_data_pc","vega_embed","primary_energy_use_per_capita_data","values","encoding","field","op","final_energy_use_per_capita_data","_templateObject20","_templateObject19","_templateObject18","_templateObject17","_templateObject16","_templateObject15","_templateObject14","_templateObject13","_templateObject12","driving_text","driving_chart","flying_text","flying_chart","heating_text","heating_chart","stuff_text","stuff_chart","showers_and_baths_text","showers_and_baths_chart","eating_text","eating_chart","washing_text","washing_chart","dogs_text","dogs_chart","summary_text","all_data","all_data_dict","primary_energy_use_per_capita","final_energy_use_per_capita","shower_data","driving_data","flying_data","washing_data","eating_data","dogs_data","heating_data","stuff_data","data_dict","child4","child5","child6","child7","child8","child9","child10","child11","ga","pathname","_x2","child12","output_order","ObservablePageMod","$export","P"],"mappings":"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","file":"component---src-pages-energy-usage-calculator-for-everyday-activities-js-eb4eed16c861b242ae30.js","sourcesContent":["export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport _classCallCheck from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"<input type=number min=0 max=100 step=1>\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"<input type=range min=0 max=100 step=1>\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"Here are two more inputs (of different types!) bound to the same view. Interacting with either view below updates *y* as well as the other synchronized inputs above.\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"Since we want multiple controls, instead of duplicating the code above, let\\u2019s now write a reusable function that binds a given input to a given view. We use [Generators.disposable](https://github.com/observablehq/notebook-stdlib/blob/master/README.md#Generators_disposable) to remove the event listener from the view when the calling cell is [invalidated](/@mbostock/disposing-content).\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"<input type=range min=0 max=100 step=1>\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"And now let\\u2019s define an input that both listens to the minimal view and assigns a new value on interaction. Notice that dragging the slider changes the value of *y*.\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"Here\\u2019s our view\\u2019s value:\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"Now let\\u2019s define a minimal view whose initial value is 42:\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"While each interactive value is often independent, other times multiple controls manipulate a shared value. This requires synchronizing views such that interaction with any one view updates both the interactive value and the other views.\\n\\nOne way to synchronize is to treat [views as mutable values](/@mbostock/views-are-mutable-values): make one view the \\u201Cprimary\\u201D view, and have the other \\u201Csecondary\\u201D views listen to and mutate the primary view. But sometimes it isn\\u2019t obvious which view should be primary.\\n\\nA more general approach is a *minimal* view: a container for a mutable value that implements the [EventTarget interface](https://developer.mozilla.org/docs/Web/API/EventTarget), making it compatible with `viewof`. This minimal view also exposes a *view*.value property representing its current value; setting the value causes the view to dispatch an *input* event, which in turn causes Observable to [rerun](/@mbostock/how-observable-runs) any referencing cells.\"], [\"While each interactive value is often independent, other times multiple controls manipulate a shared value. This requires synchronizing views such that interaction with any one view updates both the interactive value and the other views.\\n\\nOne way to synchronize is to treat [views as mutable values](/@mbostock/views-are-mutable-values): make one view the \\u201Cprimary\\u201D view, and have the other \\u201Csecondary\\u201D views listen to and mutate the primary view. But sometimes it isn\\u2019t obvious which view should be primary.\\n\\nA more general approach is a *minimal* view: a container for a mutable value that implements the [EventTarget interface](https://developer.mozilla.org/docs/Web/API/EventTarget), making it compatible with \\\\`viewof\\\\`. This minimal view also exposes a *view*.value property representing its current value; setting the value causes the view to dispatch an *input* event, which in turn causes Observable to [rerun](/@mbostock/how-observable-runs) any referencing cells.\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"<input type=range>\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Synchronized Views\\n\\n[A view](/@mbostock/introduction-to-views) conveniently defines an interactive value.\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/@mbostock/synchronized-views@374\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"viewof x\")).define(\"viewof x\", [\"html\"], function (html) {\n    return html(_templateObject2());\n  });\n  main.variable(observer(\"x\")).define(\"x\", [\"Generators\", \"viewof x\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer()).define([\"x\"], function (x) {\n    return x;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject3());\n  });\n  main.variable(observer(\"View\")).define(\"View\", function () {\n    return (\n      /*#__PURE__*/\n      function () {\n        function View(value) {\n          _classCallCheck(this, View);\n\n          Object.defineProperties(this, {\n            _list: {\n              value: [],\n              writable: true\n            },\n            _value: {\n              value: value,\n              writable: true\n            }\n          });\n        }\n\n        _createClass(View, [{\n          key: \"addEventListener\",\n          value: function addEventListener(type, listener) {\n            if (type != \"input\" || this._list.includes(listener)) return;\n            this._list = [listener].concat(this._list);\n          }\n        }, {\n          key: \"removeEventListener\",\n          value: function removeEventListener(type, listener) {\n            if (type != \"input\") return;\n            this._list = this._list.filter(function (l) {\n              return l !== listener;\n            });\n          }\n        }, {\n          key: \"dispatchEvent\",\n          value: function dispatchEvent(event) {\n            var p = Promise.resolve(event);\n\n            this._list.forEach(function (l) {\n              return p.then(l);\n            });\n          }\n        }, {\n          key: \"value\",\n          get: function get() {\n            return this._value;\n          },\n          set: function set(value) {\n            this._value = value;\n            this.dispatchEvent({\n              type: \"input\",\n              value: value\n            });\n          }\n        }]);\n\n        return View;\n      }()\n    );\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject4());\n  });\n  main.variable(observer(\"viewof y\")).define(\"viewof y\", [\"View\"], function (View) {\n    return new View(42);\n  });\n  main.variable(observer(\"y\")).define(\"y\", [\"Generators\", \"viewof y\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject5());\n  });\n  main.variable(observer()).define([\"y\"], function (y) {\n    return y;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject6());\n  });\n  main.variable(observer()).define([\"html\", \"viewof y\", \"invalidation\"], function (html, $0, invalidation) {\n    var input = html(_templateObject7());\n\n    input.oninput = function () {\n      return $0.value = input.valueAsNumber;\n    };\n\n    var update = function update() {\n      return input.value = $0.value;\n    };\n\n    $0.addEventListener(\"input\", update);\n    invalidation.then(function () {\n      return $0.removeEventListener(\"input\", update);\n    });\n    return update(), input;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject8());\n  });\n  main.variable(observer(\"bind\")).define(\"bind\", [\"Generators\"], function (Generators) {\n    return function bind(input, view) {\n      input.value = view.value;\n\n      input.oninput = function () {\n        return view.value = input.valueAsNumber;\n      };\n\n      function update(_ref) {\n        var value = _ref.value;\n\n        if (!isNaN(value) && input.valueAsNumber !== value) {\n          input.value = value;\n        }\n      }\n\n      view.addEventListener(\"input\", update);\n      return Generators.disposable(input, function () {\n        view.removeEventListener(\"input\", update);\n      });\n    };\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject9());\n  });\n  main.variable(observer()).define([\"bind\", \"html\", \"viewof y\"], function (bind, html, $0) {\n    return bind(html(_templateObject10()), $0);\n  });\n  main.variable(observer()).define([\"bind\", \"html\", \"viewof y\"], function (bind, html, $0) {\n    return bind(html(_templateObject11()), $0);\n  });\n  main.variable(observer()).define([\"y\"], function (y) {\n    return y;\n  });\n  return main;\n}","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"<span>\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"This is a test; the count should be three.\\n\\n\", \"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Disposal\\n\\nThis is a little helper to detect when an element is removed from the DOM. It functions similarly to [invalidation](https://github.com/observablehq/notebook-stdlib/blob/master/README.md#invalidation), except that you don\\u2019t need to pass the invalidation promise around. The downside is that it only works if the resource you want to dispose is attached to a DOM element.\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/@mbostock/disposal@32\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"disposal\")).define(\"disposal\", [\"MutationObserver\"], function (MutationObserver) {\n    return function disposal(element) {\n      return new Promise(function (resolve) {\n        requestAnimationFrame(function () {\n          var target = element.closest(\".observablehq\");\n          if (!target) return resolve();\n          var observer = new MutationObserver(function (mutations) {\n            if (target.contains(element)) return;\n            observer.disconnect(), resolve();\n          });\n          observer.observe(target, {\n            childList: true\n          });\n        });\n      });\n    };\n  });\n  main.variable(observer()).define([\"md\", \"test\"], function (md, test) {\n    return md(_templateObject2(), Array.from({\n      length: 3\n    }, test));\n  });\n  main.define(\"initial count\", function () {\n    return 0;\n  });\n  main.variable(observer(\"mutable count\")).define(\"mutable count\", [\"Mutable\", \"initial count\"], function (M, _) {\n    return new M(_);\n  });\n  main.variable(observer(\"count\")).define(\"count\", [\"mutable count\"], function (_) {\n    return _.generator;\n  });\n  main.variable(observer(\"test\")).define(\"test\", [\"html\", \"mutable count\", \"disposal\"], function (html, $0, disposal) {\n    return function test() {\n      var span = html(_templateObject3());\n      ++$0.value;\n      disposal(span).then(function () {\n        return --$0.value;\n      });\n      return span;\n    };\n  });\n  return main;\n}","import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"To bind a given *input* to a *view*, you need bidirectional listening: the *input* needs to listen to the *view* (to update the *input*\\u2019s value), and the *view* needs to listen to the *input* (to update the *view*\\u2019s value). This is a [disposable view](/@mbostock/disposal).\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"The view\\u2019s value can be referenced reactively:\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"All of these inputs are synchronized using a [view](/@mbostock/synchronized-views):\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"<input type=range>\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"You can also do a standalone input:\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"<input type=number style=\\\"width:80px;\\\">\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"<input type=range style=\\\"width:80px;\\\">\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"This is a range input \", \".\\n\\nThis is a number input \", \".\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Inline Inputs\\n\\nSometimes you might want to put inputs inline in your Markdown, rather than as separate cells. This is a little trickier, but possible, and you can even synchronize multiple inputs if you desire. Here\\u2019s an example:\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/@mbostock/inline-inputs@160\nimport define1 from \"../@mbostock/synchronized-views.js\";\nimport define2 from \"../@mbostock/disposal.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer()).define([\"md\", \"bind\", \"html\", \"viewof apples\"], function (md, bind, html, $0) {\n    return md(_templateObject2(), bind(html(_templateObject3()), $0), bind(html(_templateObject4()), $0));\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject5());\n  });\n  main.variable(observer()).define([\"bind\", \"html\", \"viewof apples\"], function (bind, html, $0) {\n    return bind(html(_templateObject6()), $0);\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject7());\n  });\n  main.variable(observer(\"viewof apples\")).define(\"viewof apples\", [\"View\"], function (View) {\n    return new View(3);\n  });\n  main.variable(observer(\"apples\")).define(\"apples\", [\"Generators\", \"viewof apples\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject8());\n  });\n  main.variable(observer()).define([\"apples\"], function (apples) {\n    return new Array(apples + 1).join(\"🍎\");\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject9());\n  });\n  main.variable(observer(\"bind\")).define(\"bind\", [\"disposal\"], function (disposal) {\n    return function bind(input, view) {\n      var value = [\"range\", \"number\"].includes(input.type) ? \"valueAsNumber\" : \"value\";\n\n      var update = function update() {\n        return input[value] = view.value;\n      };\n\n      input.oninput = function () {\n        return view.value = input[value];\n      };\n\n      view.addEventListener(\"input\", update);\n      disposal(input).then(function () {\n        return view.removeEventListener(\"input\", update);\n      });\n      return update(), input;\n    };\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"disposal\", child2);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"<select>\\n    <option value=\\\"minutes\\\">minute</option>\\n    <option value=\\\"hours\\\">hour</option>\\n    <option value=\\\"days\\\">day</option>\\n    <option value=\\\"weeks\\\">week</option>\\n    <option value=\\\"months\\\">month</option>\\n    <option value=\\\"years\\\">year</option>\\n  </select>\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"<input type=\", \" style=\\\"width:\", \";\\\">\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Utils\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/1add11a49a452e70@35\nimport define1 from \"../@mbostock/inline-inputs.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"inline_input\")).define(\"inline_input\", [\"bind\", \"html\"], function (bind, html) {\n    return function inline_input(view_to_bind) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"number\";\n      var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"25px\";\n      return bind(html(_templateObject2(), type, width), view_to_bind);\n    };\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  main.variable(observer(\"time_period_picker\")).define(\"time_period_picker\", [\"bind\", \"html\"], function (bind, html) {\n    return function time_period_picker(view_to_bind) {\n      return bind(html(_templateObject3()), view_to_bind);\n    };\n  });\n  return main;\n}","import \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"Each full square ( <svg width=16 height=16><rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"#BBB\\\" stroke=\\\"gray\\\"></rect></svg> ) in the visualisations represents 1 kilowatt hour (kwh), the amount of energy consumed by using 1000 watts of power for one hour.  \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"<input type=range min=0 max=50 step=0.25>\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Unit chart\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/d2b70dd4960f3314@476\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function (require) {\n    return require('d3', \"d3-scale-chromatic@^1.4.0\");\n  });\n  main.variable(observer(\"data\")).define(\"data\", [\"slider\"], function (slider) {\n    return {\n      \"label a\": 15.5,\n      \"b stuff\": 42.2,\n      \"c another label\": slider\n    };\n  });\n  main.variable(observer(\"get_d3_data\")).define(\"get_d3_data\", function () {\n    return function get_d3_data(data) {\n      // Turn dict into array sorted by size \n      var data_array = Object.keys(data).map(function (key) {\n        return {\n          \"key\": key,\n          \"value\": data[key]\n        };\n      });\n      data_array.sort(function (a, b) {\n        return b[\"value\"] - a[\"value\"];\n      });\n\n      function get_map(d) {\n        var value = d[\"value\"];\n        var num_squares = Math.ceil(value);\n        var items = Array(num_squares).fill(0);\n        items = items.map(function (d2, i) {\n          return {\n            \"key\": d[\"key\"],\n            \"value\": i + 1 > value ? value - i : 1\n          };\n        });\n        return items;\n      }\n\n      var squares = data_array.map(get_map).flat();\n      return squares;\n    };\n  });\n  main.variable(observer(\"viewof slider\")).define(\"viewof slider\", [\"html\"], function (html) {\n    return html(_templateObject2());\n  });\n  main.variable(observer(\"slider\")).define(\"slider\", [\"Generators\", \"viewof slider\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"d3_data\")).define(\"d3_data\", [\"get_d3_data\", \"data\"], function (get_d3_data, data) {\n    return get_d3_data(data);\n  });\n  main.variable(observer()).define([\"unit_chart\", \"data\", \"width\"], function (unit_chart, data, width) {\n    return unit_chart(data, width);\n  });\n  main.variable(observer(\"unit_chart\")).define(\"unit_chart\", [\"width\", \"get_d3_data\", \"d3\", \"DOM\"], function (width, get_d3_data, d3, DOM) {\n    return function unit_chart(data) {\n      var svg_width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : width;\n      var clip_width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      return function () {\n        if (svg_width > 640 & clip_width) {\n          svg_width = 640;\n        }\n\n        var GRID_SIZE = 20;\n        var GAP_SIZE = 4;\n        var SQUARE_SIZE = GRID_SIZE - GAP_SIZE;\n        var d3_data = get_d3_data(data);\n        var margin = {\n          top: 0,\n          right: 20,\n          bottom: 0,\n          left: 0\n        };\n        var width = svg_width - margin.left - margin.right; // Compute the height of the graphic. \n\n        var total_squares = d3_data.reduce(function (a, b) {\n          return a + b[\"value\"];\n        }, 0);\n        var num_squares_in_width = Math.floor(width / GRID_SIZE);\n        var height_of_squares = Math.ceil(total_squares / num_squares_in_width) * GRID_SIZE; // If text is destined to be in the penultimate four squares on the right, put on next line\n\n        var squares_on_final_row = total_squares % num_squares_in_width;\n        var text_on_final_line = num_squares_in_width - squares_on_final_row < 7;\n        var additional_height_for_text = 0;\n\n        if (text_on_final_line) {\n          additional_height_for_text = GRID_SIZE;\n        }\n\n        var svg_height = height_of_squares + additional_height_for_text + margin.top + margin.bottom;\n        var height = svg_height - margin.top - margin.bottom;\n        var colorScale = d3.scaleOrdinal().range(d3.schemeCategory10).domain([\"Driving\", \"Flying\", \"Heating\", \"Stuff\", \"Showers\", \"Food/Eating\", \"Washing machine\", \"Dishwasher\", \"Dogs\"]);\n        var svg = d3.select(DOM.svg(width + margin.left + margin.right, height + margin.top + margin.bottom));\n        var svg_group = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // Colored rectangles \n\n        svg_group.selectAll('c_rect').data(d3_data) // Joins arrayOfNumbers with DOM <rect/> elements, producing .enter(),.exit() selections\n        .enter() // Returns the portion of the data which is new (\"entering\") and not yet bound to DOM elements\n        .append('rect') // For each, append a <circle /> to selected svg\n        .attr('x', function (d, i) {\n          return i % num_squares_in_width * GRID_SIZE;\n        }).attr('y', function (d, i) {\n          return Math.floor(i / num_squares_in_width) * GRID_SIZE;\n        }).attr('width', function (d) {\n          return d.value * SQUARE_SIZE;\n        }) // Set each cirlces x position using its index in the array\n        .attr('height', SQUARE_SIZE) // Set each circles y position (cy is short for 'y coordinate of the circle's center')\n        .attr('fill', function (d) {\n          return colorScale(d[\"key\"]);\n        }); // Grid\n\n        svg_group.selectAll('g_rect').data(d3_data) // Joins arrayOfNumbers with DOM <rect/> elements, producing .enter(),.exit() selections\n        .enter() // Returns the portion of the data which is new (\"entering\") and not yet bound to DOM elements\n        .append('rect') // For each, append a <circle /> to selected svg\n        .attr('x', function (d, i) {\n          return i % num_squares_in_width * GRID_SIZE;\n        }).attr('y', function (d, i) {\n          return Math.floor(i / num_squares_in_width) * GRID_SIZE;\n        }).attr('width', function (d) {\n          return SQUARE_SIZE;\n        }) // Set each cirlces x position using its index in the array\n        .attr('height', SQUARE_SIZE) // Set each circles y position (cy is short for 'y coordinate of the circle's center')\n        .attr('stroke', \"gray\").attr('stroke-width', 0.5).attr('fill', \"none\"); // Total text  \n\n        var total = d3_data.reduce(function (a, b) {\n          return a + b[\"value\"];\n        }, 0).toFixed(1) + \" kwh/day\"; // Position of text \n\n        var text_x_position = 0;\n\n        if (!text_on_final_line) {\n          text_x_position = (d3_data.length - 1) % num_squares_in_width * GRID_SIZE + GRID_SIZE;\n        }\n\n        var text_y_position = Math.floor((d3_data.length - 1) / num_squares_in_width) * GRID_SIZE;\n\n        if (text_on_final_line) {\n          text_y_position += GRID_SIZE;\n        }\n\n        svg_group.append(\"text\").attr('x', text_x_position).attr('dx', 2).attr('y', text_y_position).attr('dy', GRID_SIZE / 2).style(\"text-anchor\", \"left\").style(\"alignment-baseline\", \"middle\").style(\"font-size\", \"1em\").text(total); // Once we append the vis elments to it, we return the DOM element for Observable to display above.\n\n        return svg.node();\n      }();\n    };\n  });\n  main.variable(observer(\"unit_chart_2\")).define(\"unit_chart_2\", [\"width\", \"get_d3_data\", \"munge_data\", \"d3\", \"DOM\"], function (width, get_d3_data, munge_data, d3, DOM) {\n    return function unit_chart_2(data) {\n      var svg_width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : width;\n      var clip_width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      return function () {\n        if (svg_width > 640 & clip_width) {\n          svg_width = 640;\n        }\n\n        var GRID_SIZE = 20;\n        var GAP_SIZE = 4;\n        var SQUARE_SIZE = GRID_SIZE - GAP_SIZE;\n        var squares_data = get_d3_data(data);\n        var margin = {\n          top: 0,\n          right: 20,\n          bottom: 0,\n          left: 100\n        };\n        var width = svg_width - margin.left - margin.right; // Compute the height of the graphic. \n\n        var total_squares = squares_data.reduce(function (a, b) {\n          return a + b[\"value\"];\n        }, 0);\n        var num_squares_in_width = Math.floor(width / GRID_SIZE);\n        var d3_data = munge_data(squares_data, num_squares_in_width);\n        var text_positions = d3.nest().key(function (d) {\n          return d.key;\n        }).rollup(function (d) {\n          return d3.extent(d, function (d) {\n            return d[\"y\"];\n          });\n        }).entries(d3_data);\n        var height_of_squares = (d3_data.slice(-1)[0][\"y\"] + 1) * GRID_SIZE;\n        var svg_height = height_of_squares + margin.top + margin.bottom;\n        var height = svg_height - margin.top - margin.bottom;\n        var colorScale = d3.scaleOrdinal().range(d3.schemeCategory10).domain([\"Driving\", \"Flying\", \"Heating\", \"Stuff\", \"Showers\", \"Food/Eating\", \"Washing machine\", \"Dishwasher\", \"Dogs\"]);\n        var svg = d3.select(DOM.svg(width + margin.left + margin.right, height + margin.top + margin.bottom));\n        var svg_group = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // Colored rectangles \n\n        svg_group.selectAll('c_rect').data(d3_data) // Joins arrayOfNumbers with DOM <rect/> elements, producing .enter(),.exit() selections\n        .enter() // Returns the portion of the data which is new (\"entering\") and not yet bound to DOM elements\n        .append('rect') // For each, append a <circle /> to selected svg\n        .attr('x', function (d) {\n          return d[\"x\"] * GRID_SIZE;\n        }).attr('y', function (d) {\n          return d[\"y\"] * GRID_SIZE;\n        }).attr('width', function (d) {\n          return d.value * SQUARE_SIZE;\n        }) // Set each cirlces x position using its index in the array\n        .attr('height', SQUARE_SIZE) // Set each circles y position (cy is short for 'y coordinate of the circle's center')\n        .attr('fill', function (d) {\n          return colorScale(d[\"key\"]);\n        }); // Grid\n        // svg_group.selectAll('g_rect') \n        // .data(d3_data) // Joins arrayOfNumbers with DOM <rect/> elements, producing .enter(),.exit() selections\n        // .enter()// Returns the portion of the data which is new (\"entering\") and not yet bound to DOM elements\n        //   .append('rect') // For each, append a <circle /> to selected svg\n        //   .attr('x', (d,i) => (i % num_squares_in_width) * GRID_SIZE)\n        //   .attr('y', (d,i) => Math.floor((i / num_squares_in_width)) * GRID_SIZE )  \n        //   .attr('width', d => SQUARE_SIZE) // Set each cirlces x position using its index in the array\n        //   .attr('height', SQUARE_SIZE) // Set each circles y position (cy is short for 'y coordinate of the circle's center')\n        //   .attr('stroke', \"gray\")\n        //   .attr('stroke-width', 0.5)\n        //   .attr('fill', \"none\")\n\n        svg_group.selectAll(\"a_text\").data(text_positions).enter().append(\"text\").attr('x', 0).attr('dx', -4).attr('y', function (d) {\n          return d3.mean(d[\"value\"]) * GRID_SIZE;\n        }).attr('dy', GRID_SIZE / 2).style(\"text-anchor\", \"end\").style(\"alignment-baseline\", \"middle\").style(\"font-size\", \"1em\").text(function (d) {\n          return d[\"key\"];\n        }); // Once we append the vis elments to it, we return the DOM element for Observable to display above.\n\n        return svg.node();\n      }();\n    };\n  });\n  main.variable(observer()).define([\"unit_chart_2\", \"data\", \"width\"], function (unit_chart_2, data, width) {\n    return unit_chart_2(data, width);\n  });\n  main.variable(observer(\"munge_data\")).define(\"munge_data\", function () {\n    return function munge_data(data, num_squares_in_width) {\n      var x_counter = 0;\n      var y_counter = 0;\n      var previous_key = data[0][\"key\"];\n      var new_data = data.map(function (d) {\n        if (previous_key != d[\"key\"]) {\n          y_counter += 1;\n          x_counter = 0;\n        } else if (x_counter > num_squares_in_width) {\n          x_counter = 0;\n          y_counter += 1;\n        }\n\n        d[\"x\"] = x_counter;\n        d[\"y\"] = y_counter;\n        previous_key = d[\"key\"];\n        x_counter += 1;\n        return d;\n      });\n      return new_data;\n    };\n  });\n  main.variable(observer(\"munged\")).define(\"munged\", [\"munge_data\", \"get_d3_data\", \"data\"], function (munge_data, get_d3_data, data) {\n    return munge_data(get_d3_data(data), 10);\n  });\n  main.variable(observer(\"text_positions\")).define(\"text_positions\", [\"d3\", \"munged\"], function (d3, munged) {\n    return d3.nest().key(function (d) {\n      return d.key;\n    }).rollup(function (d) {\n      return d3.extent(d, function (d) {\n        return d[\"y\"];\n      });\n    }).entries(munged);\n  });\n  main.variable(observer(\"key\")).define(\"key\", [\"md\"], function (md) {\n    return md(_templateObject3());\n  });\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nYou take \\n\", \" \\nshower(s) a day averaging \\n\", \" \\nminutes with water flow of \\n\", \"\\nml per second \\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Showers\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/cf65dae7f4607b19@156\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"showers_and_baths_text\")).define(\"showers_and_baths_text\", [\"md\", \"inline_input\", \"viewof num_showers\", \"viewof shower_minutes\", \"viewof shower_flow\"], function (md, inline_input, $0, $1, $2) {\n    return md(_templateObject2(), inline_input($0), inline_input($1), inline_input($2, \"number\", \"45px\"));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"eu\", \"shower_minutes\", \"shower_flow\", \"num_showers\"], function (eu, shower_minutes, shower_flow, num_showers) {\n    return eu.shower.get_daily_kwh(shower_minutes, shower_flow, num_showers);\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"shower_conclusion\")).define(\"shower_conclusion\", [\"md\", \"kwh\"], function (md, kwh) {\n    return md(_templateObject3(), kwh);\n  });\n  main.variable(observer(\"shower_data\")).define(\"shower_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Showers\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"showers_and_baths_chart\")).define(\"showers_and_baths_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Showers\": kwh\n    });\n  });\n  main.variable(observer(\"viewof num_showers\")).define(\"viewof num_showers\", [\"View\"], function (View) {\n    return new View(2);\n  });\n  main.variable(observer(\"num_showers\")).define(\"num_showers\", [\"Generators\", \"viewof num_showers\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof shower_minutes\")).define(\"viewof shower_minutes\", [\"View\"], function (View) {\n    return new View(4);\n  });\n  main.variable(observer(\"shower_minutes\")).define(\"shower_minutes\", [\"Generators\", \"viewof shower_minutes\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof shower_flow\")).define(\"viewof shower_flow\", [\"View\"], function (View) {\n    return new View(135);\n  });\n  main.variable(observer(\"shower_flow\")).define(\"shower_flow\", [\"Generators\", \"viewof shower_flow\"], function (G, _) {\n    return G.input(_);\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.22');\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\" You drive an average \\n\", \" \\nmiles per \\n\", \" in a vehicle that gets an average of \\n\", \"\\nmiles per imperial gallon\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Driving\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/ab12e7a3fdc4f2be@164\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main[\"import\"](\"time_period_picker\", child2);\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  main.variable(observer(\"driving_text\")).define(\"driving_text\", [\"md\", \"inline_input\", \"viewof miles\", \"time_period_picker\", \"viewof miles_driven_period\", \"viewof miles_per_gallon\"], function (md, inline_input, $0, time_period_picker, $1, $2) {\n    return md(_templateObject2(), inline_input($0, \"number\", \"60px\"), time_period_picker($1), inline_input($2, \"number\", \"45px\"));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"eu\", \"miles\", \"miles_driven_period\", \"miles_per_gallon\"], function (eu, miles, miles_driven_period, miles_per_gallon) {\n    return eu.driving.miles_driven_to_kwh_per_day(miles, miles_driven_period, miles_per_gallon);\n  });\n  main.variable(observer(\"driving_chart\")).define(\"driving_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Driving\": kwh\n    });\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"driving_conclusion\")).define(\"driving_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"driving_data\")).define(\"driving_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Driving\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"viewof miles\")).define(\"viewof miles\", [\"View\"], function (View) {\n    return new View(10000);\n  });\n  main.variable(observer(\"miles\")).define(\"miles\", [\"Generators\", \"viewof miles\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof miles_per_gallon\")).define(\"viewof miles_per_gallon\", [\"View\"], function (View) {\n    return new View(45);\n  });\n  main.variable(observer(\"miles_per_gallon\")).define(\"miles_per_gallon\", [\"Generators\", \"viewof miles_per_gallon\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof miles_driven_period\")).define(\"viewof miles_driven_period\", [\"View\"], function (View) {\n    return new View(\"years\");\n  });\n  main.variable(observer(\"miles_driven_period\")).define(\"miles_driven_period\", [\"Generators\", \"viewof miles_driven_period\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.22');\n  });\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\" You fly an average of\\n\", \" \\nmiles per \\n\", \"\\nin economy class.  (Business class/first class would probably be double this or more)\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Flying\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/1b459452a203b8d6@64\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main[\"import\"](\"time_period_picker\", child2);\n  main.variable(observer(\"flying_text\")).define(\"flying_text\", [\"md\", \"inline_input\", \"viewof miles\", \"time_period_picker\", \"viewof miles_flown_period\"], function (md, inline_input, $0, time_period_picker, $1) {\n    return md(_templateObject2(), inline_input($0, \"number\", \"60px\"), time_period_picker($1));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"eu\", \"miles\", \"miles_flown_period\"], function (eu, miles, miles_flown_period) {\n    return eu.flying.flying_miles_to_kwh(miles, miles_flown_period);\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"flying_conclusion\")).define(\"flying_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"flying_chart\")).define(\"flying_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Flying\": kwh\n    });\n  });\n  main.variable(observer(\"flying_data\")).define(\"flying_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Flying\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"viewof miles\")).define(\"viewof miles\", [\"View\"], function (View) {\n    return new View(12000);\n  });\n  main.variable(observer(\"miles\")).define(\"miles\", [\"Generators\", \"viewof miles\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof miles_flown_period\")).define(\"viewof miles_flown_period\", [\"View\"], function (View) {\n    return new View(\"years\");\n  });\n  main.variable(observer(\"miles_flown_period\")).define(\"miles_flown_period\", [\"Generators\", \"viewof miles_flown_period\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.22');\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \\n\", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nYou run the washing machine \\n\", \" \\ntimes a \\n\", \" \\nand the dishwasher \\n\", \"\\ntimes a \\n\", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Washing machine and dishwasher\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/ae3bbc0702928554@226\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"washing_text\")).define(\"washing_text\", [\"md\", \"inline_input\", \"viewof num_washing_machine\", \"time_period_picker\", \"viewof washing_machine_period\", \"viewof num_dishwasher\", \"viewof dishwasher_period\"], function (md, inline_input, $0, time_period_picker, $1, $2, $3) {\n    return md(_templateObject2(), inline_input($0), time_period_picker($1), inline_input($2), time_period_picker($3));\n  });\n  main.variable(observer(\"wm\")).define(\"wm\", [\"eu\", \"num_washing_machine\", \"washing_machine_period\"], function (eu, num_washing_machine, washing_machine_period) {\n    return eu.washing.washing_machine_kwh_per_day(num_washing_machine, washing_machine_period, 30);\n  });\n  main.variable(observer(\"dw\")).define(\"dw\", [\"eu\", \"num_dishwasher\", \"dishwasher_period\"], function (eu, num_dishwasher, dishwasher_period) {\n    return eu.washing.dishwasher_kwh_per_day(num_dishwasher, dishwasher_period, 50);\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"wm\", \"dw\"], function (wm, dw) {\n    return wm + dw;\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"washing_conclusion\")).define(\"washing_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"washing_chart\")).define(\"washing_chart\", [\"unit_chart\", \"wm\", \"dw\"], function (unit_chart, wm, dw) {\n    return unit_chart({\n      \"Washing machine\": wm,\n      \"Dishwasher\": dw\n    });\n  });\n  main.variable(observer(\"washing_data\")).define(\"washing_data\", [\"wm\", \"dw\"], function (wm, dw) {\n    return [{\n      \"name\": \"Washing machine\",\n      \"value\": wm\n    }, {\n      \"name\": \"Dishwasher\",\n      \"value\": dw\n    }];\n  });\n  main.variable(observer(\"viewof num_washing_machine\")).define(\"viewof num_washing_machine\", [\"View\"], function (View) {\n    return new View(2);\n  });\n  main.variable(observer(\"num_washing_machine\")).define(\"num_washing_machine\", [\"Generators\", \"viewof num_washing_machine\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof washing_machine_period\")).define(\"viewof washing_machine_period\", [\"View\"], function (View) {\n    return new View(\"weeks\");\n  });\n  main.variable(observer(\"washing_machine_period\")).define(\"washing_machine_period\", [\"Generators\", \"viewof washing_machine_period\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof dishwasher_period\")).define(\"viewof dishwasher_period\", [\"View\"], function (View) {\n    return new View(\"weeks\");\n  });\n  main.variable(observer(\"dishwasher_period\")).define(\"dishwasher_period\", [\"Generators\", \"viewof dishwasher_period\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof num_dishwasher\")).define(\"viewof num_dishwasher\", [\"View\"], function (View) {\n    return new View(4);\n  });\n  main.variable(observer(\"num_dishwasher\")).define(\"num_dishwasher\", [\"Generators\", \"viewof num_dishwasher\"], function (G, _) {\n    return G.input(_);\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main[\"import\"](\"time_period_picker\", child2);\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.22');\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\" You have \\n\", \" \\ndog(s) who weigh \\n\", \" \\nkg each (on average)\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Pets\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/0f80b8822accb473@87\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main[\"import\"](\"time_period_picker\", child2);\n  main.variable(observer(\"dogs_text\")).define(\"dogs_text\", [\"md\", \"inline_input\", \"viewof num_dogs\", \"viewof dogs_weight_kg\"], function (md, inline_input, $0, $1) {\n    return md(_templateObject2(), inline_input($0, \"number\"), inline_input($1, \"number\", \"50px\"));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"num_dogs\", \"eu\", \"dogs_weight_kg\"], function (num_dogs, eu, dogs_weight_kg) {\n    return num_dogs * eu.pets.kwh_required_by_dogs_per_day(dogs_weight_kg);\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"dogs_chart\")).define(\"dogs_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Dogs\": kwh\n    });\n  });\n  main.variable(observer(\"dogs_conclusion\")).define(\"dogs_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"dogs_data\")).define(\"dogs_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Dogs\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"viewof num_dogs\")).define(\"viewof num_dogs\", [\"View\"], function (View) {\n    return new View(1);\n  });\n  main.variable(observer(\"num_dogs\")).define(\"num_dogs\", [\"Generators\", \"viewof num_dogs\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof dogs_weight_kg\")).define(\"viewof dogs_weight_kg\", [\"View\"], function (View) {\n    return new View(15);\n  });\n  main.variable(observer(\"dogs_weight_kg\")).define(\"dogs_weight_kg\", [\"Generators\", \"viewof dogs_weight_kg\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.22');\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"<select>\\n    <option value=\\\"omnivore\\\">Omnivore</option>\\n    <option value=\\\"vegetarian\\\">Vegetarian</option>\\n    <option value=\\\"vegan\\\">Vegan</option>\\n  </select>\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"<select>\\n    <option value=\\\"male\\\">Male</option>\\n    <option value=\\\"female\\\">Female</option>\\n  </select>\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"<select>\\n    <option value=\\\"sedentary_light\\\">Sedentary/lightly active</option>\\n    <option value=\\\"moderately_active\\\">Moderately active</option>\\n    <option value=\\\"vigorous\\\">Vigorous</option>\\n  </select>\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\" You are \\n\", \" \\ncm high, \\nyou are \\n\", \" \\nyears old,\\nyou weigh\\n\", \" \\nkg,\\nyou're\\n\", \" \\nand you have a \\n\", \" \\nlifestyle, and your diet type is \\n\", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Eating\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/5bd5c66c77a6d1cd@130\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main[\"import\"](\"time_period_picker\", child2);\n  main.variable(observer(\"eating_text\")).define(\"eating_text\", [\"md\", \"inline_input\", \"viewof height_cm\", \"viewof age_years\", \"viewof weight_kg\", \"gender_picker\", \"viewof gender\", \"activity_level_picker\", \"viewof activity_level\", \"diet_picker\", \"viewof diet_type\"], function (md, inline_input, $0, $1, $2, gender_picker, $3, activity_level_picker, $4, diet_picker, $5) {\n    return md(_templateObject2(), inline_input($0, \"number\", \"60px\"), inline_input($1, \"number\", \"50px\"), inline_input($2, \"number\", \"60px\"), gender_picker($3), activity_level_picker($4), diet_picker($5));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"eu\", \"weight_kg\", \"height_cm\", \"age_years\", \"gender\", \"activity_level\", \"diet_type\"], function (eu, weight_kg, height_cm, age_years, gender, activity_level, diet_type) {\n    return eu.eating.kwh_per_day(weight_kg, height_cm, age_years, gender, activity_level, diet_type);\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"eating_chart\")).define(\"eating_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Food/Eating\": kwh\n    });\n  });\n  main.variable(observer(\"eating_conclusion\")).define(\"eating_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"eating_data\")).define(\"eating_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Food/Eating\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"viewof weight_kg\")).define(\"viewof weight_kg\", [\"View\"], function (View) {\n    return new View(68);\n  });\n  main.variable(observer(\"weight_kg\")).define(\"weight_kg\", [\"Generators\", \"viewof weight_kg\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof height_cm\")).define(\"viewof height_cm\", [\"View\"], function (View) {\n    return new View(178);\n  });\n  main.variable(observer(\"height_cm\")).define(\"height_cm\", [\"Generators\", \"viewof height_cm\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof age_years\")).define(\"viewof age_years\", [\"View\"], function (View) {\n    return new View(34);\n  });\n  main.variable(observer(\"age_years\")).define(\"age_years\", [\"Generators\", \"viewof age_years\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof gender\")).define(\"viewof gender\", [\"View\"], function (View) {\n    return new View(\"male\");\n  });\n  main.variable(observer(\"gender\")).define(\"gender\", [\"Generators\", \"viewof gender\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof activity_level\")).define(\"viewof activity_level\", [\"View\"], function (View) {\n    return new View(\"moderately_active\");\n  });\n  main.variable(observer(\"activity_level\")).define(\"activity_level\", [\"Generators\", \"viewof activity_level\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof diet_type\")).define(\"viewof diet_type\", [\"View\"], function (View) {\n    return new View(\"omnivore\");\n  });\n  main.variable(observer(\"diet_type\")).define(\"diet_type\", [\"Generators\", \"viewof diet_type\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.25');\n  });\n  main.variable(observer(\"activity_level_picker\")).define(\"activity_level_picker\", [\"bind\", \"html\"], function (bind, html) {\n    return function activity_level_picker(view_to_bind) {\n      return bind(html(_templateObject4()), view_to_bind);\n    };\n  });\n  main.variable(observer(\"gender_picker\")).define(\"gender_picker\", [\"bind\", \"html\"], function (bind, html) {\n    return function gender_picker(view_to_bind) {\n      return bind(html(_templateObject5()), view_to_bind);\n    };\n  });\n  main.variable(observer(\"diet_picker\")).define(\"diet_picker\", [\"bind\", \"html\"], function (bind, html) {\n    return function diet_picker(view_to_bind) {\n      return bind(html(_templateObject6()), view_to_bind);\n    };\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"<select>\\n    <option value=\\\"kwh\\\">kwh</option>\\n    <option value=\\\"imperial_units\\\">Imperial units (100s of cubic feet)</option>\\n    <option value=\\\"metric_units\\\">Metrics units</option>\\n  </select>\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\" Your energy bill says you use \\n\", \" \\n\", \" \\nper year and there are \\n\", \" \\npeople in your household.\\nOver that billing period, your thermostat was set to around:\\n\", \" \\ndegrees centigrade.\\n\\nIn future, you expect to set your thermostat to \\n\", \" \\ndegrees centigrate.  Your future use is expected to be:\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Heating\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/16c049a5ef57f39e@187\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main.variable(observer(\"heating_text\")).define(\"heating_text\", [\"md\", \"inline_input\", \"viewof actual_usage_from_bill\", \"units_picker\", \"viewof bill_units\", \"viewof num_occupants\", \"viewof thermostat_current\", \"viewof thermostat_future\"], function (md, inline_input, $0, units_picker, $1, $2, $3, $4) {\n    return md(_templateObject2(), inline_input($0, \"number\", \"60px\"), units_picker($1), inline_input($2, \"number\", \"45px\"), inline_input($3, \"number\", \"45px\"), inline_input($4, \"number\", \"45px\"));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"eu\", \"actual_usage_from_bill\", \"thermostat_current\", \"thermostat_future\", \"num_occupants\", \"bill_units\"], function (eu, actual_usage_from_bill, thermostat_current, thermostat_future, num_occupants, bill_units) {\n    return eu.heating.heating_kwh_per_day(actual_usage_from_bill, thermostat_current, thermostat_future, num_occupants, bill_units);\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"heating_conclusion\")).define(\"heating_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"heating_data\")).define(\"heating_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Heating\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"heating_chart\")).define(\"heating_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Heating\": kwh\n    });\n  });\n  main.variable(observer(\"viewof actual_usage_from_bill\")).define(\"viewof actual_usage_from_bill\", [\"View\"], function (View) {\n    return new View(597);\n  });\n  main.variable(observer(\"actual_usage_from_bill\")).define(\"actual_usage_from_bill\", [\"Generators\", \"viewof actual_usage_from_bill\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof bill_units\")).define(\"viewof bill_units\", [\"View\"], function (View) {\n    return new View('metric_units');\n  });\n  main.variable(observer(\"bill_units\")).define(\"bill_units\", [\"Generators\", \"viewof bill_units\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof thermostat_current\")).define(\"viewof thermostat_current\", [\"View\"], function (View) {\n    return new View(19);\n  });\n  main.variable(observer(\"thermostat_current\")).define(\"thermostat_current\", [\"Generators\", \"viewof thermostat_current\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof thermostat_future\")).define(\"viewof thermostat_future\", [\"View\"], function (View) {\n    return new View(19);\n  });\n  main.variable(observer(\"thermostat_future\")).define(\"thermostat_future\", [\"Generators\", \"viewof thermostat_future\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof num_occupants\")).define(\"viewof num_occupants\", [\"View\"], function (View) {\n    return new View(2);\n  });\n  main.variable(observer(\"num_occupants\")).define(\"num_occupants\", [\"Generators\", \"viewof num_occupants\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.29');\n  });\n  main.variable(observer(\"units_picker\")).define(\"units_picker\", [\"bind\", \"html\"], function (bind, html) {\n    return function units_picker(view_to_bind) {\n      return bind(html(_templateObject4()), view_to_bind);\n    };\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"= \", \" kwh per day\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\" You spend an average of \\n\\xA3 \", \" \\nper \", \"\\non 'stuff'.\\n\\n('Stuff' includes things like clothes, electronics, white goods and cars, but excludes items otherwise accounted for such as food, petrol and flights)\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Stuff\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/b60a5a494ad36861@166\nimport define1 from \"../@mbostock/inline-inputs.js\";\nimport define2 from \"../d/1add11a49a452e70.js\";\nimport define3 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"bind\", child1);\n  main[\"import\"](\"View\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"inline_input\", child2);\n  main[\"import\"](\"time_period_picker\", child2);\n  main.variable(observer(\"stuff_text\")).define(\"stuff_text\", [\"md\", \"inline_input\", \"viewof spending\", \"time_period_picker\", \"viewof spending_time_period\"], function (md, inline_input, $0, time_period_picker, $1) {\n    return md(_templateObject2(), inline_input($0, \"number\", \"60px\"), time_period_picker($1));\n  });\n  main.variable(observer(\"kwh\")).define(\"kwh\", [\"eu\", \"spending\", \"spending_time_period\"], function (eu, spending, spending_time_period) {\n    return eu.stuff.pounds_sterling_to_kwh(spending) / eu.convert.convert_units(spending_time_period, \"days\");\n  });\n  main.variable(observer(\"kwh_formatted\")).define(\"kwh_formatted\", [\"eu\", \"kwh\"], function (eu, kwh) {\n    return eu.utils.format_kwh(kwh);\n  });\n  main.variable(observer(\"stuff_conclusion\")).define(\"stuff_conclusion\", [\"md\", \"kwh_formatted\"], function (md, kwh_formatted) {\n    return md(_templateObject3(), kwh_formatted);\n  });\n  main.variable(observer(\"stuff_chart\")).define(\"stuff_chart\", [\"unit_chart\", \"kwh\"], function (unit_chart, kwh) {\n    return unit_chart({\n      \"Stuff\": kwh\n    });\n  });\n  main.variable(observer(\"stuff_data\")).define(\"stuff_data\", [\"kwh\"], function (kwh) {\n    return [{\n      \"name\": \"Stuff\",\n      \"value\": kwh\n    }];\n  });\n  main.variable(observer(\"viewof spending\")).define(\"viewof spending\", [\"View\"], function (View) {\n    return new View(500);\n  });\n  main.variable(observer(\"spending\")).define(\"spending\", [\"Generators\", \"viewof spending\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof spending_time_period\")).define(\"viewof spending_time_period\", [\"View\"], function (View) {\n    return new View(\"months\");\n  });\n  main.variable(observer(\"spending_time_period\")).define(\"spending_time_period\", [\"Generators\", \"viewof spending_time_period\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], function (require) {\n    return require('@robinl/energy_usage@0.0.31');\n  });\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"unit_chart\", child3);\n  return main;\n}","import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.reduce\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"You use a total of __\", \" kilowatt hours__ of energy a day from the activities covered on this webpage. This means your average power consumption is \", \" watts.  This is the equivalent of around \", \" humans continously doing strenous exercise on your behalf.\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Energy usage treemap and summary\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/96c07fabafda0a77@256\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"summary_text\")).define(\"summary_text\", [\"get_total\", \"md\", \"format\"], function (get_total, md, format) {\n    return function (data) {\n      var total_energy = get_total(data);\n      var watts = total_energy / 24 * 1000;\n      return md(_templateObject2(), format(total_energy), format(watts), format(watts / 100));\n    };\n  });\n  main.variable(observer(\"get_total\")).define(\"get_total\", function () {\n    return function get_total(data) {\n      return data.reduce(function (a, b) {\n        return a + b.value;\n      }, 0);\n    };\n  });\n  main.variable(observer(\"my_data\")).define(\"my_data\", function () {\n    return [{\n      name: \"Showers\",\n      value: 2.5104\n    }, {\n      name: \"Driving\",\n      value: 26.293975646879755\n    }, {\n      name: \"Flying\",\n      value: 13.425863835616436\n    }, {\n      name: \"Washing machine\",\n      value: 0.19999999999999998\n    }, {\n      name: \"Dishwasher\",\n      value: 0.6\n    }, {\n      name: \"Food/Eating\",\n      value: 23.303485333333334\n    }, {\n      name: \"Dogs\",\n      value: 8.86730602373828\n    }];\n  });\n  main.variable(observer()).define([\"chart\", \"my_data\"], function (chart, my_data) {\n    return chart(my_data);\n  });\n  main.variable(observer(\"chart\")).define(\"chart\", [\"treemap\", \"d3\", \"width\", \"format\", \"DOM\", \"color\", \"per_fmt\"], function (treemap, d3, width, format, DOM, color, per_fmt) {\n    return function (my_data) {\n      var my_data_nested = {\n        \"name\": \"root\",\n        \"children\": my_data\n      };\n      var root = treemap(my_data_nested);\n      var height = my_data.reduce(function (a, b) {\n        return a + b[\"value\"];\n      }, 0) * 4;\n      var svg = d3.create(\"svg\").attr(\"width\", width).attr(\"height\", height).style(\"font\", \"10px sans-serif\");\n      var leaf = svg.selectAll(\"g\").data(root.leaves()).join(\"g\").attr(\"transform\", function (d) {\n        return \"translate(\".concat(d.x0, \",\").concat(d.y0, \")\");\n      });\n      leaf.append(\"title\").text(function (d) {\n        return \"\".concat(d.ancestors().reverse().map(function (d) {\n          return d.data.name;\n        }).join(\"/\"), \"\\n\").concat(format(d.value));\n      });\n      leaf.append(\"rect\").attr(\"id\", function (d) {\n        return (d.leafUid = DOM.uid(\"leaf\")).id;\n      }).attr(\"fill\", function (d) {\n        while (d.depth > 1) {\n          d = d.parent;\n        }\n\n        return color(d.data.name);\n      }).attr(\"fill-opacity\", 0.6).attr(\"width\", function (d) {\n        return d.x1 - d.x0;\n      }).attr(\"height\", function (d) {\n        return d.y1 - d.y0;\n      });\n      leaf.append(\"clipPath\").attr(\"id\", function (d) {\n        return (d.clipUid = DOM.uid(\"clip\")).id;\n      }).append(\"use\").attr(\"xlink:href\", function (d) {\n        return d.leafUid.href;\n      });\n      leaf.append(\"text\").attr(\"clip-path\", function (d) {\n        return d.clipUid;\n      }).selectAll(\"tspan\").data(function (d) {\n        return d.data.name.split(/(?=[A-Z][^A-Z])/g).concat(format(d.value) + \" kwh\").concat(per_fmt(d.value / d.parent.value));\n      }).join(\"tspan\").attr(\"x\", 3).attr(\"y\", function (d, i, nodes) {\n        return \"\".concat((i === nodes.length - 1) * 0.3 + 1.1 + i * 0.9, \"em\");\n      }).attr(\"fill-opacity\", function (d, i, nodes) {\n        return i === nodes.length - 1 ? 0.7 : null;\n      }).text(function (d) {\n        return d;\n      });\n      return svg.node();\n    };\n  });\n  main.variable(observer(\"treemap\")).define(\"treemap\", [\"d3\", \"width\"], function (d3, width) {\n    return function (data) {\n      var height = data[\"children\"].reduce(function (a, b) {\n        return a + b[\"value\"];\n      }, 0) * 4;\n      return d3.treemap().tile(d3[\"treemapBinary\"]).size([width, height]).padding(1).round(true)(d3.hierarchy(data).sum(function (d) {\n        return d.value;\n      }).sort(function (a, b) {\n        return b.value - a.value;\n      }));\n    };\n  });\n  main.variable(observer(\"width\")).define(\"width\", function () {\n    return 600;\n  });\n  main.variable(observer(\"format\")).define(\"format\", [\"d3\"], function (d3) {\n    return d3.format(\",.3r\");\n  });\n  main.variable(observer(\"per_fmt\")).define(\"per_fmt\", [\"d3\"], function (d3) {\n    return d3.format(\",.1%\");\n  });\n  main.variable(observer(\"color\")).define(\"color\", [\"d3\"], function (d3) {\n    return d3.scaleOrdinal(d3.schemeCategory10);\n  });\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function (require) {\n    return require(\"d3@5\");\n  });\n  return main;\n}","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.sort\";\nimport _regeneratorRuntime from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport _slicedToArray from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"## Parallel Coordinates\\n\\nA [parallel coordinates plot](https://en.wikipedia.org/wiki/Parallel_coordinates) that uses `window` and `fold` transforms to convert the four dimensions of Iris flower measurements into normalized coordinates that can be visualized as `line` marks. The graphic includes an additional layer with custom `text` mark labels for the parallel axis grid lines. We render the plot as SVG by passing `{renderer:'svg'}` to the `render` method.\\n\"], [\"## Parallel Coordinates\\n\\nA [parallel coordinates plot](https://en.wikipedia.org/wiki/Parallel_coordinates) that uses \\\\`window\\\\` and \\\\`fold\\\\` transforms to convert the four dimensions of Iris flower measurements into normalized coordinates that can be visualized as \\\\`line\\\\` marks. The graphic includes an additional layer with custom \\\\`text\\\\` mark labels for the parallel axis grid lines. We render the plot as SVG by passing \\\\`{renderer:'svg'}\\\\` to the \\\\`render\\\\` method.\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"## Interactive Seattle Weather 2012-2015\\n\\nA scatter plot and summary histogram with linked `selections` between plots to perform cross-filtering and configure conditional color encodings.\\n\"], [\"## Interactive Seattle Weather 2012-2015\\n\\nA scatter plot and summary histogram with linked \\\\`selections\\\\` between plots to perform cross-filtering and configure conditional color encodings.\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"## Zip Codes\\n\\nA dot for each zip code in the United States, colored by the first digit.\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"To use the same setup in your own notebooks, add a cell with the following code:\\n~~~ js\\nimport {vl} from '@vega/vega-lite-api'\\n~~~\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\nThe cell below imports the Vega-Lite API and registers the desired versions of Vega and Vega-Lite, along with default [Vega View options](https://vega.github.io/vega/docs/api/view/#view) and [Vega-Lite configuration](https://vega.github.io/vega-lite/docs/config.html):\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"The [Vega-Lite JavaScript API](https://github.com/vega/vega-lite-api/) provides a convenient way to write [Vega-Lite](https://vega.github.io/vega-lite) specifications in a programmatic fashion. Scroll down for some usage examples, or browse the [Vega-Lite API example collection](https://observablehq.com/collection/@vega/vega-lite-api)!\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Vega-Lite API\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/@vega/vega-lite-api@319\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject2());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject3());\n  });\n  main.variable(observer(\"vl\")).define(\"vl\", [\"require\"],\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(require) {\n      var _ref2, _ref3, vega, vegalite, api, tooltip, options;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Promise.all(['vega@5', 'vega-lite@3.4.0', 'vega-lite-api@0.1.0', 'vega-tooltip@0.17.0'].map(function (module) {\n                return require(module);\n              }));\n\n            case 2:\n              _ref2 = _context.sent;\n              _ref3 = _slicedToArray(_ref2, 4);\n              vega = _ref3[0];\n              vegalite = _ref3[1];\n              api = _ref3[2];\n              tooltip = _ref3[3];\n              options = {\n                config: {\n                  // vega-lite default configuration\n                  config: {\n                    view: {\n                      width: 400,\n                      height: 300\n                    },\n                    mark: {\n                      tooltip: null\n                    }\n                  }\n                },\n                init: function init(view) {\n                  // initialize tooltip handler\n                  view.tooltip(new tooltip.Handler().call); // enable horizontal scrolling for large plots\n\n                  if (view.container()) view.container().style['overflow-x'] = 'auto';\n                },\n                view: {\n                  // view constructor options\n                  loader: vega.loader({\n                    baseURL: 'https://vega.github.io/vega-datasets/'\n                  }),\n                  renderer: 'canvas'\n                }\n              };\n              return _context.abrupt(\"return\", api.register(vega, vegalite, options));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject4());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject5());\n  });\n  main.variable(observer()).define([\"vl\", \"width\"], function (vl, width) {\n    return vl.markSquare({\n      size: 2,\n      opacity: 1\n    }).data('data/zipcodes.csv').transform(vl.calculate('substring(datum.zip_code, 0, 1)').as('digit')).project(vl.projection('albersUsa')).encode(vl.longitude().fieldQ('longitude'), vl.latitude().fieldQ('latitude'), vl.color().fieldN('digit')).width(width).height(Math.floor(width / 1.75)).autosize({\n      type: 'fit-x',\n      contains: 'padding'\n    }).config({\n      view: {\n        stroke: null\n      }\n    }).render();\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject6());\n  });\n  main.variable(observer()).define([\"vl\", \"width\"], function (vl, width) {\n    var brush = vl.selectInterval().encodings('x');\n    var click = vl.selectMulti().encodings('color');\n    var scale = {\n      domain: ['sun', 'fog', 'drizzle', 'rain', 'snow'],\n      range: ['#e7ba52', '#a7a7a7', '#aec7e8', '#1f77b4', '#9467bd']\n    };\n    var plot1 = vl.markPoint({\n      filled: true\n    }).encode(vl.color().value('lightgray')[\"if\"](brush, vl.color().fieldN('weather').scale(scale).title('Weather')), vl.size().fieldQ('precipitation').scale({\n      domain: [-1, 50],\n      range: [10, 500]\n    }).title('Precipitation'), vl.order().fieldQ('precipitation').sort('descending'), vl.x().timeMD('date').axis({\n      title: 'Date',\n      format: '%b'\n    }), vl.y().fieldQ('temp_max').scale({\n      domain: [-5, 40]\n    }).axis({\n      title: 'Maximum Daily Temperature (°C)'\n    })).width(width).height(300).select(brush).transform(vl.filter(click));\n    var plot2 = vl.markBar().encode(vl.color().value('lightgray')[\"if\"](click, vl.color().fieldN('weather').scale(scale).title('Weather')), vl.x().count(), vl.y().fieldN('weather').scale({\n      domain: scale.domain\n    }).title('Weather')).width(width).select(click).transform(vl.filter(brush));\n    return vl.vconcat(plot1, plot2).data('data/seattle-weather.csv').autosize({\n      type: 'fit-x',\n      contains: 'padding'\n    }).render();\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject7());\n  });\n  main.variable(observer()).define([\"vl\", \"width\"], function (vl, width) {\n    var domain = ['petalLength', 'petalWidth', 'sepalLength', 'sepalWidth'];\n    var scale = {\n      type: 'point',\n      padding: 0\n    };\n    var axis = {\n      domain: false,\n      ticks: false,\n      title: false,\n      grid: true,\n      gridColor: '#888',\n      labelAngle: 0,\n      labelPadding: 8,\n      labelFontWeight: 'bold'\n    };\n    var lines = vl.markLine({\n      strokeWidth: 1.5,\n      opacity: 0.5\n    }).encode(vl.color().fieldN('species').sort('descending'), vl.detail().fieldN('index'), vl.x().fieldO('key').scale(scale).axis(axis), vl.y().fieldQ('fraction').axis(null));\n    var labels = vl.markText({\n      dx: -2,\n      align: 'right',\n      baseline: 'middle'\n    }).transform(vl.groupby('key').aggregate(vl.min('value').as('min'), vl.max('value').as('max')), vl.fold('min', 'max').as('op', 'value'), vl.groupby('key').window(vl.percent_rank('value').as('fraction'))).encode(vl.x().fieldN('key'), vl.y().fieldQ('fraction').axis(null), vl.text().fieldN('value'));\n    var plot = vl.layer(lines, labels).data('data/iris.json').transform(vl.window(vl.row_number().as('index')), vl.fold(domain), vl.groupby('key').join(vl.min('value').as('min'), vl.max('value').as('max')), vl.calculate('(datum.value - datum.min) / (datum.max - datum.min)').as('fraction')).width(width).height(300).autosize({\n      type: 'fit-x',\n      contains: 'padding'\n    });\n    return plot.render({\n      renderer: 'svg'\n    });\n  });\n  return main;\n}","import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.filter\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"Data comes from a custom report generated from the World Development Indicators, [here](https://databank.worldbank.org/reports.aspx?source=world-development-indicators#)\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"https://datacatalog.worldbank.org/energy-use-kg-oil-equivalent-capita-1\\nhttps://datacatalog.worldbank.org/total-final-energy-consumption-tfec\\n\\nNot clear from either measure what it contains -e.g. presumably it doesn't contain energy embodied in imported goods?\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Derive energy usage country comparisons\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/d/6ddb4d39b12399ea@244\nimport define1 from \"../@vega/vega-lite-api.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject2());\n  });\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function (require) {\n    return require(\"d3\");\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject3());\n  });\n  main.variable(observer(\"url\")).define(\"url\", function () {\n    return \"https://gist.githubusercontent.com/RobinL/f9d478dadd70ec2dda67c1e9e91686f1/raw/1d628cb38f3d693052bf6bf5eedcb4126bf34a25/energy_usage.csv\";\n  });\n  main.variable(observer(\"data\")).define(\"data\", [\"d3\", \"url\"], function (d3, url) {\n    return d3.csv(url, d3.autoType);\n  });\n  main.variable(observer(\"nonnull_data\")).define(\"nonnull_data\", [\"data\"], function (data) {\n    return data.filter(function (d) {\n      return d[\"2014 [YR2014]\"] != \"..\";\n    });\n  });\n  main.variable(observer(\"data_by_country\")).define(\"data_by_country\", [\"nonnull_data\"], function (nonnull_data) {\n    return nonnull_data.map(function (d) {\n      var ret = {};\n      ret[\"2014_kg_oil_equiv_per_capita\"] = d[\"2014 [YR2014]\"];\n      ret[\"country\"] = d[\"Country Name\"];\n      ret[\"code\"] = d[\"Country Code\"];\n      return ret;\n    });\n  });\n  main.variable(observer(\"data_with_kwh\")).define(\"data_with_kwh\", [\"data_by_country\"], function (data_by_country) {\n    return data_by_country.map(function (d) {\n      d[\"kwh_per_day\"] = d[\"2014_kg_oil_equiv_per_capita\"] * 11.63 / 365;\n      return {\n        \"kwh_per_day\": d[\"kwh_per_day\"],\n        \"code\": d[\"code\"],\n        \"country\": d[\"country\"]\n      };\n    });\n  });\n  main.variable(observer(\"countries\")).define(\"countries\", function () {\n    return [\"USA\", \"GBR\", \"CHN\", \"FRA\", \"BRA\", \"IND\", \"AUS\"];\n  });\n  main.variable(observer(\"selected_countries\")).define(\"selected_countries\", [\"data_with_kwh\", \"countries\"], function (data_with_kwh, countries) {\n    return data_with_kwh.filter(function (d) {\n      return countries.includes(d[\"code\"]);\n    });\n  });\n  main.variable(observer()).define([\"selected_countries\"], function (selected_countries) {\n    return JSON.stringify(selected_countries);\n  });\n  main.variable(observer(\"primary_energy_use_data_pc\")).define(\"primary_energy_use_data_pc\", [\"d3\"], function (d3) {\n    return d3.json(\"https://cors-anywhere.herokuapp.com/http://api.worldbank.org/countries/USA;GBR;CHN;FRA;BRA;IND;AUS/indicators/EG.USE.PCAP.KG.OE?date=2014%3A2014&format=json&per_page=1000\");\n  });\n  main.variable(observer(\"tfec_data\")).define(\"tfec_data\", [\"d3\"], function (d3) {\n    return d3.json(\"https://cors-anywhere.herokuapp.com/http://api.worldbank.org/countries/USA;GBR;CHN;FRA;BRA;IND;AUS/indicators/1.1_TOTAL.FINAL.ENERGY.CONSUM?date=2014%3A2014&format=json&per_page=1000\");\n  });\n  main.variable(observer(\"population_data\")).define(\"population_data\", [\"d3\"], function (d3) {\n    return d3.json(\"https://cors-anywhere.herokuapp.com/http://api.worldbank.org/countries/USA;GBR;CHN;FRA;BRA;IND;AUS/indicators/SP.POP.TOTL?date=2014%3A2014&format=json&per_page=1000\");\n  });\n  main.variable(observer(\"final_energy_use_per_capita_data\")).define(\"final_energy_use_per_capita_data\", [\"tfec_data\", \"population_data\"], function (tfec_data, population_data) {\n    return [0, 1, 2, 3, 4, 5, 6].map(function (i) {\n      var country_code = tfec_data[1][i][\"country\"][\"id\"];\n      var country_name = tfec_data[1][i][\"country\"][\"value\"]; // let total_energy_consumption_kg_of_oil_eq = tfec_data[1][i][\"value\"]\n      // let total_energy_consumption_kwh = total_energy_consumption_kg_of_oil_eq * 11.63\n\n      var total_energy_consumption_terajoules = tfec_data[1][i][\"value\"];\n      var total_population = population_data[1][i][\"value\"];\n      var kwh_per_capita = total_energy_consumption_terajoules * 1e12 / (total_population * 3600000);\n      return {\n        \"code\": country_code,\n        \"country\": country_name,\n        \"kwh_per_day\": kwh_per_capita / 365.25\n      };\n    });\n  });\n  main.variable(observer(\"primary_energy_use_per_capita_data\")).define(\"primary_energy_use_per_capita_data\", [\"primary_energy_use_data_pc\"], function (primary_energy_use_data_pc) {\n    var api_data = primary_energy_use_data_pc[1];\n    var mapped = api_data.map(function (d) {\n      d[\"kwh_per_day\"] = d[\"value\"] * 11.63 / 365;\n      return {\n        \"kwh_per_day\": d[\"kwh_per_day\"],\n        \"code\": d[\"country\"][\"id\"],\n        \"country\": d[\"country\"][\"value\"]\n      };\n    });\n    return mapped;\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"vl\", child1);\n  main.variable(observer(\"vega_embed\")).define(\"vega_embed\", [\"require\"], function (require) {\n    return require(\"vega-embed@3\");\n  });\n  main.variable(observer(\"primary_energy_use_per_capita\")).define(\"primary_energy_use_per_capita\", [\"vega_embed\", \"primary_energy_use_per_capita_data\"], function (vega_embed, primary_energy_use_per_capita_data) {\n    return vega_embed({\n      data: {\n        values: primary_energy_use_per_capita_data\n      },\n      mark: \"bar\",\n      encoding: {\n        x: {\n          field: \"country\",\n          type: \"nominal\",\n          sort: {\n            field: \"kwh_per_day\",\n            op: \"mean\",\n            order: \"descending\"\n          }\n        },\n        y: {\n          field: \"kwh_per_day\",\n          type: \"quantitative\"\n        }\n      }\n    });\n  });\n  main.variable(observer(\"final_energy_use_per_capita\")).define(\"final_energy_use_per_capita\", [\"vega_embed\", \"final_energy_use_per_capita_data\"], function (vega_embed, final_energy_use_per_capita_data) {\n    return vega_embed({\n      data: {\n        values: final_energy_use_per_capita_data\n      },\n      mark: \"bar\",\n      encoding: {\n        x: {\n          field: \"country\",\n          type: \"nominal\",\n          sort: {\n            field: \"kwh_per_day\",\n            op: \"mean\",\n            order: \"descending\"\n          }\n        },\n        y: {\n          field: \"kwh_per_day\",\n          type: \"quantitative\"\n        }\n      }\n    });\n  });\n  return main;\n}","import _regeneratorRuntime from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _taggedTemplateLiteral from \"/home/runner/work/gasby_observable_blog/gasby_observable_blog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\"<a href>\"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"## Annex: Imports and Calculations\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"The following chart shows final energy consumption per capita.\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"Note that primary energy usage is __not__ equivalent to the end-user consumption tallied in this calculator.\\n\\nIt is [defined as](https://ec.europa.eu/eurostat/statistics-explained/index.php/Glossary:Primary_energy_consumption) \\\"The total energy demand of a country. It covers consumption of the energy sector itself, losses during transformation (for example, from oil or gas into electricity) and distribution of energy, and the final consumption by end users\\\". \\n\\nI think this means it would count both energy produced domestically and primary energy imports in the form of fuel.  But not energy embodied in imported goods.  It is unclear to me whether it would count jet fuel oil for international flights.\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"The following chart shows primary per capita energy usage, converted into kwh.  See [here](https://datacatalog.worldbank.org/energy-use-kg-oil-equivalent-capita-1) for the source of the data.  \"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"This calculator only considers a subset of your energy usage, so your overall total will actually be higher.  Nonetheless, it's interesting to compare to average per captia energy usage of various countries:\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"## How do you compare?\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"Here's how your energy usage breaks down:\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"# Summary\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"## [Dogs](https://github.com/RobinL/energy_usage/blob/master/src/pets.js)\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"## [Washing machine/Dishwasher](https://github.com/RobinL/energy_usage/blob/master/src/washing_dishwasher.js)\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"## [Eating](https://github.com/RobinL/energy_usage/blob/master/src/eating.js)\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"## [Showers](https://github.com/RobinL/energy_usage/blob/master/src/shower.js)\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"## [Stuff](https://github.com/RobinL/energy_usage/blob/master/src/stuff.js)\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"## [Heating](https://github.com/RobinL/energy_usage/blob/master/src/heating.js)\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"## [Flying](https://github.com/RobinL/energy_usage/blob/master/src/flying.js)\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"## [Driving](https://github.com/RobinL/energy_usage/blob/master/src/driving.js)\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"## Key to graphics\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"This is a __rough ready reckoner__ to help you understand your energy consumption. \\n\\nI'm sure these estimates could be significantly improved - pull requests gratefully received [here](https://github.com/RobinL/energy_usage/pulls).\\n\\nFollowing, [David MacKay](https://www.withouthotair.com/c2/page_24.shtml), I standardise everything in kilowatt hours. \\n\\nYou can find all assumptions and calculations [here](https://github.com/RobinL/energy_usage/tree/master/src), or click on the headers for calculations specific to each activity.\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"# Energy usage ready reckoner for everyday activities\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// https://observablehq.com/@robinl/energy-usage-calculator-for-everyday-activities@456\nimport define1 from \"../d/cf65dae7f4607b19.js\";\nimport define2 from \"../d/ab12e7a3fdc4f2be.js\";\nimport define3 from \"../d/1b459452a203b8d6.js\";\nimport define4 from \"../d/ae3bbc0702928554.js\";\nimport define5 from \"../d/0f80b8822accb473.js\";\nimport define6 from \"../d/5bd5c66c77a6d1cd.js\";\nimport define7 from \"../d/16c049a5ef57f39e.js\";\nimport define8 from \"../d/b60a5a494ad36861.js\";\nimport define9 from \"../d/96c07fabafda0a77.js\";\nimport define10 from \"../d/6ddb4d39b12399ea.js\";\nimport define11 from \"../d/d2b70dd4960f3314.js\";\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer(\"title\")).define(\"title\", [\"md\"], function (md) {\n    return md(_templateObject());\n  });\n  main.variable(observer(\"under_title_blurb\")).define(\"under_title_blurb\", [\"md\"], function (md) {\n    return md(_templateObject2());\n  });\n  main.variable(observer(\"key_to_graphics_title\")).define(\"key_to_graphics_title\", [\"md\"], function (md) {\n    return md(_templateObject3());\n  });\n  main.variable(observer(\"key_to_graphics_text\")).define(\"key_to_graphics_text\", [\"key\"], function (key) {\n    return key;\n  });\n  main.variable(observer(\"driving_title\")).define(\"driving_title\", [\"md\"], function (md) {\n    return md(_templateObject4());\n  });\n  main.variable(observer(\"driving_text_output\")).define(\"driving_text_output\", [\"driving_text\"], function (driving_text) {\n    return driving_text;\n  });\n  main.variable(observer(\"driving_chart_output\")).define(\"driving_chart_output\", [\"driving_chart\"], function (driving_chart) {\n    return driving_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject5());\n  });\n  main.variable(observer()).define([\"flying_text\"], function (flying_text) {\n    return flying_text;\n  });\n  main.variable(observer()).define([\"flying_chart\"], function (flying_chart) {\n    return flying_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject6());\n  });\n  main.variable(observer()).define([\"heating_text\"], function (heating_text) {\n    return heating_text;\n  });\n  main.variable(observer()).define([\"heating_chart\"], function (heating_chart) {\n    return heating_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject7());\n  });\n  main.variable(observer()).define([\"stuff_text\"], function (stuff_text) {\n    return stuff_text;\n  });\n  main.variable(observer()).define([\"stuff_chart\"], function (stuff_chart) {\n    return stuff_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject8());\n  });\n  main.variable(observer()).define([\"showers_and_baths_text\"], function (showers_and_baths_text) {\n    return showers_and_baths_text;\n  });\n  main.variable(observer()).define([\"showers_and_baths_chart\"], function (showers_and_baths_chart) {\n    return showers_and_baths_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject9());\n  });\n  main.variable(observer()).define([\"eating_text\"], function (eating_text) {\n    return eating_text;\n  });\n  main.variable(observer()).define([\"eating_chart\"], function (eating_chart) {\n    return eating_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject10());\n  });\n  main.variable(observer()).define([\"washing_text\"], function (washing_text) {\n    return washing_text;\n  });\n  main.variable(observer()).define([\"washing_chart\"], function (washing_chart) {\n    return washing_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject11());\n  });\n  main.variable(observer()).define([\"dogs_text\"], function (dogs_text) {\n    return dogs_text;\n  });\n  main.variable(observer()).define([\"dogs_chart\"], function (dogs_chart) {\n    return dogs_chart;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject12());\n  });\n  main.variable(observer()).define([\"summary_text\", \"all_data\"], function (summary_text, all_data) {\n    return summary_text(all_data);\n  });\n  main.variable(observer()).define([\"unit_chart_2\", \"all_data_dict\"], function (unit_chart_2, all_data_dict) {\n    return unit_chart_2(all_data_dict);\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject13());\n  });\n  main.variable(observer()).define([\"chart\", \"all_data\"], function (chart, all_data) {\n    return chart(all_data);\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject14());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject15());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject16());\n  });\n  main.variable(observer()).define([\"primary_energy_use_per_capita\"], function (primary_energy_use_per_capita) {\n    return primary_energy_use_per_capita;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject17());\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject18());\n  });\n  main.variable(observer()).define([\"final_energy_use_per_capita\"], function (final_energy_use_per_capita) {\n    return final_energy_use_per_capita;\n  });\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md(_templateObject19());\n  });\n  main.variable(observer(\"all_data\")).define(\"all_data\", [\"shower_data\", \"driving_data\", \"flying_data\", \"washing_data\", \"eating_data\", \"dogs_data\", \"heating_data\", \"stuff_data\"], function (shower_data, driving_data, flying_data, washing_data, eating_data, dogs_data, heating_data, stuff_data) {\n    return shower_data.concat(driving_data, flying_data, washing_data, eating_data, dogs_data, heating_data, stuff_data);\n  });\n  main.variable(observer(\"all_data_dict\")).define(\"all_data_dict\", [\"all_data\"], function (all_data) {\n    var data_dict = {};\n    all_data.forEach(function (d) {\n      return data_dict[d[\"name\"]] = d[\"value\"];\n    });\n    return data_dict;\n  });\n  var child1 = runtime.module(define1);\n  main[\"import\"](\"showers_and_baths_text\", child1);\n  main[\"import\"](\"shower_conclusion\", child1);\n  main[\"import\"](\"shower_data\", child1);\n  main[\"import\"](\"showers_and_baths_chart\", child1);\n  var child2 = runtime.module(define2);\n  main[\"import\"](\"driving_text\", child2);\n  main[\"import\"](\"driving_conclusion\", child2);\n  main[\"import\"](\"driving_data\", child2);\n  main[\"import\"](\"driving_chart\", child2);\n  var child3 = runtime.module(define3);\n  main[\"import\"](\"flying_text\", child3);\n  main[\"import\"](\"flying_chart\", child3);\n  main[\"import\"](\"flying_data\", child3);\n  var child4 = runtime.module(define4);\n  main[\"import\"](\"washing_text\", child4);\n  main[\"import\"](\"washing_conclusion\", child4);\n  main[\"import\"](\"washing_data\", child4);\n  main[\"import\"](\"washing_chart\", child4);\n  var child5 = runtime.module(define5);\n  main[\"import\"](\"dogs_text\", child5);\n  main[\"import\"](\"dogs_conclusion\", child5);\n  main[\"import\"](\"dogs_data\", child5);\n  main[\"import\"](\"dogs_chart\", child5);\n  var child6 = runtime.module(define6);\n  main[\"import\"](\"eating_text\", child6);\n  main[\"import\"](\"eating_conclusion\", child6);\n  main[\"import\"](\"eating_data\", child6);\n  main[\"import\"](\"eating_chart\", child6);\n  var child7 = runtime.module(define7);\n  main[\"import\"](\"heating_text\", child7);\n  main[\"import\"](\"heating_conclusion\", child7);\n  main[\"import\"](\"heating_data\", child7);\n  main[\"import\"](\"heating_chart\", child7);\n  var child8 = runtime.module(define8);\n  main[\"import\"](\"stuff_text\", child8);\n  main[\"import\"](\"stuff_conclusion\", child8);\n  main[\"import\"](\"stuff_data\", child8);\n  main[\"import\"](\"stuff_chart\", child8);\n  var child9 = runtime.module(define9);\n  main[\"import\"](\"chart\", child9);\n  main[\"import\"](\"summary_text\", child9);\n  var child10 = runtime.module(define10);\n  main[\"import\"](\"primary_energy_use_per_capita\", child10);\n  main[\"import\"](\"final_energy_use_per_capita\", child10);\n  var child11 = runtime.module(define11);\n  main[\"import\"](\"key\", child11);\n  main.variable(observer(\"ga\")).define(\"ga\", [\"require\", \"html\"],\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(require, html) {\n      var ga;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return require(\"https://www.google-analytics.com/analytics.js\")[\"catch\"](function () {\n                return window.ga;\n              });\n\n            case 2:\n              ga = _context.sent;\n              ga(\"create\", \"UA-146468274-1\", \"auto\");\n              ga(\"send\", \"pageview\", html(_templateObject20()).pathname);\n              return _context.abrupt(\"return\", ga);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  var child12 = runtime.module(define11);\n  main[\"import\"](\"unit_chart\", child12);\n  main[\"import\"](\"unit_chart_2\", child12);\n  return main;\n}","import React from \"react\"\nimport define from \"@robinl/energy-usage-calculator-for-everyday-activities\"\nimport ObservablePageMod from \"../components/obs_page_def\"\n\n\nlet output_order = [\n    \"title\",\n    \"under_title_blurb\",\n    \"key_to_graphics_title\",\n    \"driving_title\",\n    \"driving_text_output\",\n    \"driving_chart_output\"\n\n]\n\n\nexport default ({ data }) => (\n    ObservablePageMod(define, output_order)\n)","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n"],"sourceRoot":""}